<?xml version="1.0"?>
<launch>

  <!-- Navigation for real AUV -->
  <group if="$(eval type == 'real')">

    <group if="$(eval localization == 'ekf')">

      <!-- Kalman filter -->
      <node pkg="robot_localization" type="ekf_localization_node" name="ekf_se" clear_params="true">
        <rosparam command="load" file="$(find robot_localization)/params/pooltestnovember.yaml" />
      </node>

    </group>

    <group if="$(eval localization == 'eskf')">

      <!-- Error State Kalman Filter-->
      <node pkg="eskf" type="eskf" name="eskf_localization_node" output="screen" />

    </group>

    <group if="$(eval localization == 'simple_odom')">

      <!-- Simple Odometry-->
      <node pkg="simple_odometry" type="simple_odometry_node" name="simple_odom_node" output="screen" />

    </group>

  </group>

  <!-- Navigation for simulator AUV -->
  <group if="$(eval type == 'simulator')">

    <group if="$(eval localization == 'ekf')">

      <!-- Kalman filter -->
      <node pkg="robot_localization" type="ekf_localization_node" name="ekf_se" clear_params="true">
        <rosparam command="load" file="$(find robot_localization)/params/pooltestnovember.yaml" />
      </node>

    </group>

    <group if="$(eval localization == 'eskf')">

      <!-- Error State Kalman Filter-->
      <node pkg="eskf" type="eskf" name="eskf_localization_node" output="screen" />

    </group>

    <group if="$(eval localization == 'simple_odom')">

      <!-- Simple Odometry-->
      <node pkg="simple_odometry" type="simple_odometry_node" name="simple_odom_node" output="screen" />

    </group>

  </group>


</launch>
